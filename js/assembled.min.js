$(function(){"use strict";var s,i=$(".js-nav").offset().top,e=$(".js-link"),t=$(".js-link"),a=[];for($(window).scroll(function(){var s=$(window).scrollTop();s>i?$(".js-nav").addClass("is-fixed"):$(".js-nav").removeClass("is-fixed")}),e.click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var s=$(this.hash);if(s=s.length?s:$("[name="+this.hash.slice(1)+"]"),s.length)return $("html,body").animate({scrollTop:s.offset().top},1e3),!1}}),s=0;s<t.length;s+=1){var n=t[s],l=$(n).attr("href");a.push(l)}$(window).scroll(function(){var i=$(window).scrollTop(),e=$(window).height(),t=$(document).height(),n=$(".js-nav.is-fixed").height(),l=$(".is-active").attr("href");for(s=0;s<a.length;s+=1){var r=a[s],o=$(r).offset().top-n,c=$(r).height();i>=o&&o+c>i?$(".js-link[href='"+r+"']").addClass("is-active"):$(".js-link[href='"+r+"']").removeClass("is-active")}i+e===t&&($(".js-nav").find("li:last-child").find(".js-link").hasClass("is-active")||($(".js-link[href='"+l+"']").removeClass("is-active"),$(".js-nav").find("li:last-child").find(".js-link").addClass("is-active"))),i<$("#biography").offset().top&&($(".js-nav").find("li:first-child").find(".js-link").hasClass("is-active")||($(".js-link[href='"+l+"']").removeClass("is-active"),$(".js-nav").find("li:first-child").find(".js-link").addClass("is-active")))})}),$(".js-slider").each(function(){"use strict";var s=$(this),i=s.find(".js-slide"),e=s.find(".js-next"),t=s.find(".js-prev"),a=i.length;s.find(".js-total").text(a),s.find(".js-slide:gt(0)").hide(),e.click(function(e){e.preventDefault();var t=s.find(".js-slide:visible");t.is(i.last())?(s.find(".js-current").text("1"),t.hide(),i.first().show()):(s.find(".js-current").text(t.next().index()+1),t.hide().next().show())}),t.click(function(e){e.preventDefault();var t=s.find(".js-slide:visible");t.is(i.first())?(s.find(".js-current").text(a),t.hide(),i.last().show()):(s.find(".js-current").text(t.prev().index()+1),t.hide().prev().show())})}),function(s,i,e,t){var a=s(i);s.fn.lazyload=function(n){function l(){var i=0;o.each(function(){var e=s(this);if(!c.skip_invisible||e.is(":visible"))if(s.abovethetop(this,c)||s.leftofbegin(this,c));else if(s.belowthefold(this,c)||s.rightoffold(this,c)){if(++i>c.failure_limit)return!1}else e.trigger("appear"),i=0})}var r,o=this,c={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:i,data_attribute:"src",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return n&&(t!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),t!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),s.extend(c,n)),r=c.container===t||c.container===i?a:s(c.container),0===c.event.indexOf("scroll")&&r.bind(c.event,function(){return l()}),this.each(function(){var i=this,e=s(i);i.loaded=!1,(e.attr("src")===t||e.attr("src")===!1)&&e.attr("src",c.placeholder),e.one("appear",function(){if(!this.loaded){if(c.appear){var t=o.length;c.appear.call(i,t,c)}s("<img />").bind("load",function(){var t=e.data(c.data_attribute);e.hide(),e.is("img")?e.attr("src",t):e.css("background-image","url('"+t+"')"),e[c.effect](c.effect_speed),i.loaded=!0;var a=s.grep(o,function(s){return!s.loaded});if(o=s(a),c.load){var n=o.length;c.load.call(i,n,c)}}).attr("src",e.data(c.data_attribute))}}),0!==c.event.indexOf("scroll")&&e.bind(c.event,function(){i.loaded||e.trigger("appear")})}),a.bind("resize",function(){l()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(i){i.originalEvent&&i.originalEvent.persisted&&o.each(function(){s(this).trigger("appear")})}),s(e).ready(function(){l()}),this},s.belowthefold=function(e,n){var l;return l=n.container===t||n.container===i?(i.innerHeight?i.innerHeight:a.height())+a.scrollTop():s(n.container).offset().top+s(n.container).height(),l<=s(e).offset().top-n.threshold},s.rightoffold=function(e,n){var l;return l=n.container===t||n.container===i?a.width()+a.scrollLeft():s(n.container).offset().left+s(n.container).width(),l<=s(e).offset().left-n.threshold},s.abovethetop=function(e,n){var l;return l=n.container===t||n.container===i?a.scrollTop():s(n.container).offset().top,l>=s(e).offset().top+n.threshold+s(e).height()},s.leftofbegin=function(e,n){var l;return l=n.container===t||n.container===i?a.scrollLeft():s(n.container).offset().left,l>=s(e).offset().left+n.threshold+s(e).width()},s.inviewport=function(i,e){return!(s.rightoffold(i,e)||s.leftofbegin(i,e)||s.belowthefold(i,e)||s.abovethetop(i,e))},s.extend(s.expr[":"],{"below-the-fold":function(i){return s.belowthefold(i,{threshold:0})},"above-the-top":function(i){return!s.belowthefold(i,{threshold:0})},"right-of-screen":function(i){return s.rightoffold(i,{threshold:0})},"left-of-screen":function(i){return!s.rightoffold(i,{threshold:0})},"in-viewport":function(i){return s.inviewport(i,{threshold:0})},"above-the-fold":function(i){return!s.belowthefold(i,{threshold:0})},"right-of-fold":function(i){return s.rightoffold(i,{threshold:0})},"left-of-fold":function(i){return!s.rightoffold(i,{threshold:0})}})}(jQuery,window,document),$(".js-lazy").lazyload({effect:"fadeIn",threshold:300});