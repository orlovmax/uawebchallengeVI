$(function(){"use strict";var e,t=$(".js-nav").offset().top,i=$(".js-link"),n=$(".js-link"),o=[];for($(window).scroll(function(){var e=$(window).scrollTop();e>t?$(".js-nav").addClass("is-fixed"):$(".js-nav").removeClass("is-fixed")}),i.click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}}),e=0;e<n.length;e+=1){var r=n[e],s=$(r).attr("href");o.push(s)}$(window).scroll(function(){var t=$(window).scrollTop(),i=$(window).height(),n=$(document).height(),r=$(".js-nav.is-fixed").height(),s=$(".is-active").attr("href");for(e=0;e<o.length;e+=1){var l=o[e],a=$(l).offset().top-r,f=$(l).height();t>=a&&a+f>t?$(".js-link[href='"+l+"']").addClass("is-active"):$(".js-link[href='"+l+"']").removeClass("is-active")}t+i===n&&($(".js-nav").find("li:last-child").find(".js-link").hasClass("is-active")||($(".js-link[href='"+s+"']").removeClass("is-active"),$(".js-nav").find("li:last-child").find(".js-link").addClass("is-active"))),t<$("#biography").offset().top&&($(".js-nav").find("li:first-child").find(".js-link").hasClass("is-active")||($(".js-link[href='"+s+"']").removeClass("is-active"),$(".js-nav").find("li:first-child").find(".js-link").addClass("is-active")))})}),$(".js-slider").each(function(){"use strict";var e=$(this),t=e.find(".js-slide"),i=e.find(".js-next"),n=e.find(".js-prev"),o=t.length;e.find(".js-total").text(o),e.find(".js-slide:gt(0)").hide(),i.click(function(i){i.preventDefault();var n=e.find(".js-slide:visible");n.is(t.last())?(e.find(".js-current").text("1"),n.hide(),t.first().show()):(e.find(".js-current").text(n.next().index()+1),n.hide().next().show())}),n.click(function(i){i.preventDefault();var n=e.find(".js-slide:visible");n.is(t.first())?(e.find(".js-current").text(o),n.hide(),t.last().show()):(e.find(".js-current").text(n.prev().index()+1),n.hide().prev().show())})}),function(e,t,i,n){var o=e(t);e.fn.lazyload=function(r){function s(){var t=0;a.each(function(){var i=e(this);if(!f.skip_invisible||i.is(":visible"))if(e.abovethetop(this,f)||e.leftofbegin(this,f));else if(e.belowthefold(this,f)||e.rightoffold(this,f)){if(++t>f.failure_limit)return!1}else i.trigger("appear"),t=0})}var l,a=this,f={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"src",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return r&&(n!==r.failurelimit&&(r.failure_limit=r.failurelimit,delete r.failurelimit),n!==r.effectspeed&&(r.effect_speed=r.effectspeed,delete r.effectspeed),e.extend(f,r)),l=f.container===n||f.container===t?o:e(f.container),0===f.event.indexOf("scroll")&&l.bind(f.event,function(){return s()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.attr("src",f.placeholder),i.one("appear",function(){if(!this.loaded){if(f.appear){var n=a.length;f.appear.call(t,n,f)}e("<img />").bind("load",function(){var n=i.data(f.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[f.effect](f.effect_speed),t.loaded=!0;var o=e.grep(a,function(e){return!e.loaded});if(a=e(o),f.load){var r=a.length;f.load.call(t,r,f)}}).attr("src",i.data(f.data_attribute))}}),0!==f.event.indexOf("scroll")&&i.bind(f.event,function(){t.loaded||i.trigger("appear")})}),o.bind("resize",function(){s()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&o.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&a.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){s()}),this},e.belowthefold=function(i,r){var s;return s=r.container===n||r.container===t?(t.innerHeight?t.innerHeight:o.height())+o.scrollTop():e(r.container).offset().top+e(r.container).height(),s<=e(i).offset().top-r.threshold},e.rightoffold=function(i,r){var s;return s=r.container===n||r.container===t?o.width()+o.scrollLeft():e(r.container).offset().left+e(r.container).width(),s<=e(i).offset().left-r.threshold},e.abovethetop=function(i,r){var s;return s=r.container===n||r.container===t?o.scrollTop():e(r.container).offset().top,s>=e(i).offset().top+r.threshold+e(i).height()},e.leftofbegin=function(i,r){var s;return s=r.container===n||r.container===t?o.scrollLeft():e(r.container).offset().left,s>=e(i).offset().left+r.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),$(".js-lazy").lazyload({effect:"fadeIn",threshold:300});