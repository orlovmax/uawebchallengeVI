$(document).ready(function(){var e=$(".js-nav").offset().top;$(window).scroll(function(){var t=$(window).scrollTop();t>e?$(".js-nav").addClass("is-fixed"):$(".js-nav").removeClass("is-fixed")});var t=$(".js-link");t.click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html,body").animate({scrollTop:e.offset().top},1e3),!1}});for(var i=$(".js-link"),n=[],s=0;s<i.length;s++){var a=i[s],o=$(a).attr("href");n.push(o),console.log()}$(window).scroll(function(){for(var e=$(window).scrollTop(),t=$(window).height(),i=$(document).height(),s=$(".js-nav.is-fixed").height(),a=0;a<n.length;a++){var o=n[a],r=$(o).offset().top-s,l=$(o).height();e>=r&&r+l>e?$(".js-link[href='"+o+"']").addClass("is-active"):$(".js-link[href='"+o+"']").removeClass("is-active")}if(e+t==i&&!$(".js-nav").find("li:last-child").find(".js-link").hasClass("is-active")){var f=$(".is-active").attr("href");$(".js-link[href='"+f+"']").removeClass("is-active"),$(".js-nav").find("li:last-child").find(".js-link").addClass("is-active")}if(e<$("#biography").offset().top&&!$(".js-nav").find("li:first-child").find(".js-link").hasClass("is-active")){var f=$(".is-active").attr("href");$(".js-link[href='"+f+"']").removeClass("is-active"),$(".js-nav").find("li:first-child").find(".js-link").addClass("is-active")}})}),$(".js-slider").each(function(){var e=$(this),t=e.find(".js-slide"),i=e.find(".js-next"),n=e.find(".js-prev"),s=t.length;e.find(".js-total").text(s),e.find(".js-slide:gt(0)").hide(),i.click(function(i){i.preventDefault();var n=e.find(".js-slide:visible");n.is(t.last())?(e.find(".js-current").text("1"),n.hide(),t.first().show()):(e.find(".js-current").text(n.next().index()+1),n.hide().next().show())}),n.click(function(i){i.preventDefault();var n=e.find(".js-slide:visible");n.is(t.first())?(e.find(".js-current").text(s),n.hide(),t.last().show()):(e.find(".js-current").text(n.prev().index()+1),n.hide().prev().show())})}),function(e,t,i,n){var s=e(t);e.fn.lazyload=function(a){function o(){var t=0;l.each(function(){var i=e(this);if(!f.skip_invisible||i.is(":visible"))if(e.abovethetop(this,f)||e.leftofbegin(this,f));else if(e.belowthefold(this,f)||e.rightoffold(this,f)){if(++t>f.failure_limit)return!1}else i.trigger("appear"),t=0})}var r,l=this,f={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"src",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return a&&(n!==a.failurelimit&&(a.failure_limit=a.failurelimit,delete a.failurelimit),n!==a.effectspeed&&(a.effect_speed=a.effectspeed,delete a.effectspeed),e.extend(f,a)),r=f.container===n||f.container===t?s:e(f.container),0===f.event.indexOf("scroll")&&r.bind(f.event,function(){return o()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,(i.attr("src")===n||i.attr("src")===!1)&&i.attr("src",f.placeholder),i.one("appear",function(){if(!this.loaded){if(f.appear){var n=l.length;f.appear.call(t,n,f)}e("<img />").bind("load",function(){var n=i.data(f.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[f.effect](f.effect_speed),t.loaded=!0;var s=e.grep(l,function(e){return!e.loaded});if(l=e(s),f.load){var a=l.length;f.load.call(t,a,f)}}).attr("src",i.data(f.data_attribute))}}),0!==f.event.indexOf("scroll")&&i.bind(f.event,function(){t.loaded||i.trigger("appear")})}),s.bind("resize",function(){o()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&s.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&l.each(function(){e(this).trigger("appear")})}),e(i).ready(function(){o()}),this},e.belowthefold=function(i,a){var o;return o=a.container===n||a.container===t?(t.innerHeight?t.innerHeight:s.height())+s.scrollTop():e(a.container).offset().top+e(a.container).height(),o<=e(i).offset().top-a.threshold},e.rightoffold=function(i,a){var o;return o=a.container===n||a.container===t?s.width()+s.scrollLeft():e(a.container).offset().left+e(a.container).width(),o<=e(i).offset().left-a.threshold},e.abovethetop=function(i,a){var o;return o=a.container===n||a.container===t?s.scrollTop():e(a.container).offset().top,o>=e(i).offset().top+a.threshold+e(i).height()},e.leftofbegin=function(i,a){var o;return o=a.container===n||a.container===t?s.scrollLeft():e(a.container).offset().left,o>=e(i).offset().left+a.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}(jQuery,window,document),$(".js-lazy").lazyload({effect:"fadeIn",threshold:300});